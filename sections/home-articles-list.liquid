<section class="mt-{{ section.settings.mt}} mb-{{ section.settings.mb}} pt-{{ section.settings.pt}} pb-{{ section.settings.pb}} mt-lg-{{ section.settings.mt_lg}} mb-lg-{{ section.settings.mb_lg}} pt-lg-{{ section.settings.pt_lg}} pb-lg-{{ section.settings.pb_lg}}" id="{{ section.id }}" data-section-id="{{ section.id }}" data-section-type="articles-list-section">
    <div class="{% if section.settings.has_container %}container{% endif %}">
        {% if section.settings.title != blank %}
        <h2 class="title title-simple text-normal font-weight-slight-bold">{{ section.settings.title }}</h2>
        {% endif %}
        <div class="owl-carousel owl-theme row cols-md-2 cols-1" data-owl-options="{
            'items': {{ section.settings.items_visible }},
            'nav': false,
            'dots': true,
            'loop': false,
            'margin': 30,
            'responsive': {
                '0': {
                    'items': 1
                },
                '768': {
                    'items': {{ section.settings.items_visible }}, 
                    'dots': false
                }
            }
        }">
        {% if section.blocks.size > 0 %}
        {% for block in section.blocks limit: section.settings.items_visible %}
        {% assign _article = articles[block.settings.article_id] %}
        {% include 'article-item', article: _article, custom_image: block.settings.custom_image, is_block:true, article_type: section.settings.item_type %}
        {% endfor %}
        {% else %}
        {% for i in (1..section.settings.items_visible) %}
        {% include 'article-item-dummie' %}
        {% endfor %}
        {% endif %}
        </div>
        {% if section.settings.has_separate == true %}<hr class="mb-0 mt-5 mt-lg-18">{% endif %}
    </div>
</section>

{% schema %}
{
    "name": "Blog Posts",
    "class": "index-section index-section--articles-list",
    "settings": [
        {
            "type": "header",
            "content": "General"
        },
        {
            "type": "checkbox",
            "id": "has_container",
            "label": "Within container",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "has_separate",
            "label": "Has separator",
            "default": false
        },
        {
            "type": "text",
            "id": "title",
            "label": "Heading",
            "default": "Latest blog"
        },
        {
            "type": "range",
            "id": "items_visible",
            "label": "Visible items ",
            "min": 1,
            "max": 4,
            "step": 1,
            "default": 2
        },
        {
            "type": "select",
            "id": "item_type",
            "label": "Blog post type",
            "options": [
                {
                    "value": "default",
                    "label": "Default"
                },
                {
                    "value": "landscape",
                    "label": "Landscape"
                }
            ],
            "default": "default"
        },
        {
            "type": "header",
            "content": "Spacing (large screen)"
        },
        {
            "type": "range",
            "id": "mt_lg",
            "label": "Margin top",
            "unit": "x",
            "min": 0,
            "max": 20,
            "step": 1,
            "default": 8
        },
        {
            "type": "range",
            "id": "pt_lg",
            "label": "Padding top",
            "unit": "x",
            "min": 0,
            "max": 20,
            "step": 1,
            "default": 0
        },
        {
            "type": "range",
            "id": "mb_lg",
            "label": "Margin bottom",
            "unit": "x",
            "min": 0,
            "max": 20,
            "step": 1,
            "default": 0
        },
        {
            "type": "range",
            "id": "pb_lg",
            "label": "Padding bottom",
            "unit": "x",
            "min": 0,
            "max": 20,
            "step": 1,
            "default": 0
        },
        {
            "type": "header",
            "content": "Spacing (mobile screen)"
        },
        {
            "type": "range",
            "id": "mt",
            "label": "Margin top",
            "unit": "x",
            "min": 0,
            "max": 20,
            "step": 1,
            "default": 5
        },
        {
            "type": "range",
            "id": "pt",
            "label": "Padding top",
            "unit": "x",
            "min": 0,
            "max": 20,
            "step": 1,
            "default": 0
        },
        {
            "type": "range",
            "id": "mb",
            "label": "Margin bottom",
            "unit": "x",
            "min": 0,
            "max": 20,
            "step": 1,
            "default": 0
        },
        {
            "type": "range",
            "id": "pb",
            "label": "Padding bottom",
            "unit": "x",
            "min": 0,
            "max": 20,
            "step": 1,
            "default": 0
        }
    ],
    "blocks": [
        {
            "type": "article",
            "name": "Blog post",
            "settings": [
                {
                    "type": "article",
                    "id": "article_id",
                    "label": "Your blog post"
                },
                {
                    "type": "image_picker",
                    "id": "custom_image",
                    "label": "Custom image"
                }
            ]
        }
    ],
    "presets": [
      {
        "name": "Blog Posts",
        "category": "Fastor"
      }
    ] 
}
{% endschema %}